const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./XUqtMoOR.js","./Bxw5cw78.js","./entry.BajYgjgJ.css","./CCURznEr.js","./B9iAJpDZ.js","./draggable.inVfEAcm.css","./Bj1LhSck.js","./Cf4j4Zxy.js","./radio-group.BLfk2hwF.css","./BwBtLxAE.js","./scrollbar.wwf0UyhQ.css","./D-bedH53.js","./3zf6s2PU.js","./HIBfAu1m.js","./dropdown.BebM7Wof.css","./BPthxbwx.js","./xtHmCIDe.js","./E8IcH2uU.js","./input-number.HwP0nlBD.css","./B7MFdLoT.js","./switch.BHcx86ck.css","./BY848W6k.js","./B_LEDPcw.js","./tag.D5zYjl71.css","./C56o9Dup.js","./select.bnIT0Jy1.css","./slippageSet.10-w620G.css","./DafMbvy8.js","./remind.B6TrAqUJ.css","./BY1dx2mG.js","./DqeGGpF0.js","./Cbe3Qev8.js","./CxC3e6_e.js","./CTVtagwo.js","./BKIFOg3b.js","./zgxk9k1l.js","./netSelect.B1TCqw__.css","./U7BYpeL2.js","./table.Cdl6t-Uy.css","./DPgv5niE.js","./pagination.Cu-ALQWS.css","./Bz6sgznZ.js","./8f3bRODF.js","./perp.BdekvRhu.css","./BHC8M4MO.js","./BMg19WEF.js","./CnTq1_hT.js","./Cm_-dUZr.js","./DlxNBJ9i.js","./A4a5GK3p.js","./slider.LN1DrOuY.css","./Bonkxumq.js","./IVbjSxdh.js","./proPopover.BtSs7_qu.css","./DKD6Onic.js","./index.QyGACf_n.css","./n3z58nq5.js","./default.CZhqFZg1.css","./radio-button.BKANFUc1.css","./BvKJs4zx.js","./trackerPop.D4YqZc84.css"])))=>i.map(i=>d[i]);
import{ah as e,_ as t,aw as a,dh as l,cD as i,av as n,bi as o,D as s,F as r,a7 as u,H as c,o as d,w as p,a as v,M as h,c as m,a5 as g,a6 as x,J as f,E as b,K as w,t as _,b as y,S as k,aP as H,oR as W,aa as C,T as S,d as F,bP as R,aL as V,aM as $,aU as j,aT as D,aJ as T,ff as A,de as U,bY as z,aN as E,a3 as I,bh as M,aS as N,cS as O,at as P,G as q,P as L,a4 as B,I as J}from"./Bxw5cw78.js";import{_ as G}from"./B9iAJpDZ.js";import{a as K,E as Y}from"./U7BYpeL2.js";import"./B_LEDPcw.js";import"./BwBtLxAE.js";import{u as Q,a as X}from"./CCURznEr.js";function Z(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/homepage",{method:"get",query:t})}function ee(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/follow",{method:"post",body:{author_id:t}})}function te(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/unfollow",{method:"post",body:{author_id:t}})}function ae(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/follow/ids",{method:"get"})}const le={class:"px-20px pb-10px"},ie={class:"flex gap-16px mb-20px"},ne=["onClick"],oe={class:"flex items-center gap-12px mb-20px"},se={class:"flex items-center gap-4px"},re={key:0,class:"flex flex-col items-center pt-60px"},ue={class:"color-[--third-text] text-12px mb-20px mt-4px lh-12px"},ce={class:"text-[--third-text] text-12px"},de=["onClick"],pe={class:"flex items-center gap-8px"},ve={class:"color-[--main-text] text-14px lh-20px truncate max-w-150px"},he={key:0,class:"w-14px h-14px bg-#000 rounded-full"},me=["src"],ge={class:"text-12px color-[--secondary-text] lh-14px"},xe={class:"flex justify-end items-center gap-4px text-12px"},fe={class:"flex items-center"},be={class:"text-[--main-text]"},we=t({__name:"drawer",props:{visible:{type:Boolean},visibleModifiers:{}},emits:["update:visible"],setup(t){const{t:I}=a(),M=l(t,"visible"),N=Q(),O=i(),P=r([]),q=r({}),L=r(!1),B=r(!1),J=r(!1),G=n(),X=r([]),Z=r({keyword:"",cursor:"",tags:""}),ae=r(!1),we=r(!1),_e=r([]),ye=r(1),ke=o("twFollowIds",[]),He=1,We=2,Ce=b(()=>[{label:I("hotSub"),value:He},{label:I("mySub"),value:We}]),Se=b(()=>ye.value===We);function Fe(e){X.value=e?P.value.map(e=>e.tag):[],J.value=!1}function Re(e){const t=e.length;B.value=t===P.value.length,J.value=t>0&&t<P.value.length}const Ve=()=>{Z.value.page_token="",ae.value=!1,we.value=!1,_e.value=[]},$e=()=>{L.value=!1,Z.value.tags=X.value.toString(),Ve(),De()},je=W(()=>{Ve(),De()},300),De=async()=>{ae.value=!0;try{let t=null;if(t=ye.value===He?await function(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/hot",{method:"get",query:t})}(Z.value):await function(t){const{$api:a}=e();return a("/v2api/twitter/v1/kol/follow/list",{method:"get",query:t})}(Z.value),t){Z.value.page_token=t.page_token||"";const e=t.authors||[];we.value=!t.page_token,Z.value.page_token||we.value?_e.value=[..._e.value,...e]:_e.value=e,!we.value&&_e.value.length<40&&De()}}catch(t){}finally{ae.value=!1}};De(),s(()=>M.value,e=>{e&&(Z.value.keyword="",ye.value=He,Ve(),De())});const Te=(e,t)=>{N.list.forEach(a=>{a.author.author_id===e&&(a.author.follow_status=t)})},Ae=async()=>{try{const t=await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/config",{method:"get",query:{}})}();P.value=(null==t?void 0:t.tag_configs)||[],q.value=((null==t?void 0:t.tag_configs)||[]).reduce((e,t)=>(e[t.tag]=t.name,e),{})}catch(t){}};s(()=>O.locale,Ae),Ae();const Ue=(e=[])=>e.map(e=>q.value[e]).join(","),ze=()=>{z.confirm(I("deleteAllTips"),I("deleteAll"),{confirmButtonText:I("confirm"),cancelButtonText:I("cancel"),type:"warning"}).then(async()=>{await function(){const{$api:t}=e();return t("/v2api/twitter/v1/kol/unfollow/all",{method:"post",body:{}})}(),E.success(I("success")),_e.value=[],ke.value=[]})},Ee=()=>{ye.value=He,Ve(),De()};return(e,t)=>{const a=C,l=H,i=S,n=T,o=Y,s=R,r=j,b=D,W=V,z=K,N=U,O=u("tooltip"),q=A;return d(),c(N,{modelValue:M.value,"onUpdate:modelValue":t[5]||(t[5]=e=>M.value=e),class:"[--el-dialog-bg-color:--dialog-bg]",title:f(I)("twitterTracker"),size:440},{default:p(()=>[v("div",le,[v("div",ie,[(d(!0),m(g,null,x(f(Ce),e=>(d(),m("span",{key:e.value,class:w(["text-16px cursor-pointer",f(ye)===e.value?"color-[--main-text]":"color-[--secondary-text]"]),onClick:t=>{return a=e.value,ye.value=a,Ve(),Z.value.tags="",X.value=[],void De();var a}},_(e.label),11,ne))),128))]),v("div",oe,[y(l,{modelValue:f(Z).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>f(Z).keyword=e),class:"[&&]:[--el-input-height:36px] [&&]:[--el-input-bg-color:--border]",placeholder:f(I)("searchAccount"),clearable:"",onInput:f(je)},{prefix:p(()=>[y(a,{class:"text-16px",name:"custom:search"})]),_:1},8,["modelValue","placeholder","onInput"]),2===f(ye)?(d(),c(i,{key:0,disabled:0===f(_e).length,onClick:ze},{default:p(()=>[v("div",se,[y(a,{name:"custom:delete-all"}),F(" "+_(f(I)("deleteAll")),1)])]),_:1},8,["disabled"])):k("",!0)]),h((d(),c(z,{data:f(_e),"header-cell-class-name":"text-12px",style:{width:"100%"},"infinite-scroll-disabled":f(we)||f(ae),"infinite-scroll-distance":20,"infinite-scroll-delay":200},{empty:p(()=>[f(Se)&&f(Z).keyword?(d(),m("div",re,[y(a,{name:"custom:twitter-empty",class:"text-61px mb-12px color-[--icon-color]"}),v("span",ue,_(f(I)("twitterEmpty")),1),y(i,{type:"primary",class:"text-12px w-266px h-40px",onClick:Ee},{default:p(()=>[F(_(f(I)("attention")),1)]),_:1})])):(d(),c(n,{key:1,class:"pt-40px"},{default:p(()=>[v("span",ce,_(f(I)("emptyNoData")),1)]),_:1}))]),default:p(()=>[y(o,{type:"index",label:"#"}),y(o,{label:f(I)("account")},{default:p(({row:e})=>[v("div",{class:"flex items-center gap-12px cursor-pointer",onClick:t=>(e=>{window.open(e.twitter_url,"_blank")})(e)},[y(s,{wallet_logo:{logo:e.profile_pic,name:e.name},"icon-size":"32px"},null,8,["wallet_logo"]),v("div",null,[v("div",pe,[h((d(),m("span",ve,[F(_(e.name),1)])),[[O,e.name]]),e.chain?(d(),m("div",he,[v("img",{class:"w-full h-full rounded-full block",src:`${f(G).token_logo_url}chain/${e.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,me)])):k("",!0)]),v("div",ge,"@"+_(e.username),1)])],8,de)]),_:1},8,["label"]),y(o,{width:"75",align:"right",label:f(I)("tags")},{header:p(()=>[v("div",xe,[v("span",null,_(e.$t("tags")),1),y(W,{visible:f(L),"onUpdate:visible":t[4]||(t[4]=e=>$(L)?L.value=e:null),placement:"bottom",width:164,trigger:"click","popper-class":"el-drawer-popover"},{reference:p(()=>[y(a,{name:"custom:filter",class:w((f(X).length>0?"color-[--secondary-text]":"color-[--third-text]")+" cursor-pointer text-10px shrink-0")},null,8,["class"])]),default:p(()=>[y(r,{modelValue:f(B),"onUpdate:modelValue":t[1]||(t[1]=e=>$(B)?B.value=e:null),class:"width_100 [--el-checkbox-height:16px] mb-12px",indeterminate:f(J),onChange:Fe},{default:p(()=>[F(_(e.$t("all")),1)]),_:1},8,["modelValue","indeterminate"]),y(b,{modelValue:f(X),"onUpdate:modelValue":t[2]||(t[2]=e=>$(X)?X.value=e:null),onChange:Re},{default:p(()=>[(d(!0),m(g,null,x(f(P),(e,t)=>(d(),c(r,{key:t,class:"w-full [--el-checkbox-height:16px] mb-12px",label:e.name,value:e.tag},{default:p(()=>[F(_(e.name),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),v("div",fe,[y(i,{class:"min-w-0 flex-1",style:{"--border":"var(--gray-button-hover)"},onClick:t[3]||(t[3]=e=>L.value=!1)},{default:p(()=>[F(_(f(I)("cancel")),1)]),_:1}),y(i,{class:"min-w-0 flex-1",type:"primary",onClick:$e},{default:p(()=>[F(_(f(I)("confirm")),1)]),_:1})])]),_:1},8,["visible"])])]),default:p(({row:e})=>[v("span",be,_(Ue(e.tags||[])),1)]),_:1},8,["label"]),y(o,{width:"40",align:"right",label:""},{default:p(({row:e,$index:t})=>[1===e.follow_status||2===f(ye)?(d(),c(a,{key:0,class:"cursor-pointer",name:"custom:twitter-del",onClick:a=>(async(e,t)=>{try{await te(e),E.success(I("cancelFollowed")),Se.value?_e.value=_e.value.filter(t=>t.author_id!==e):_e.value[t].follow_status=0,Te(e,0),ke.value=ke.value.filter(t=>t.author_id!==e)}catch(a){E.error(I("failed"))}})(e.author_id,t)},null,8,["onClick"])):(d(),c(a,{key:1,class:"cursor-pointer",name:"custom:twitter-add",onClick:a=>(async(e,t)=>{try{if(ke.value.length>=50)return void E.error(I("twitterMax"));await ee(e),E.success(I("followed")),_e.value[t].follow_status=1,Te(e,1),ke.value=ke.value.concat({author_id:e})}catch(a){E.error(I("failed"))}})(e.author_id,t)},null,8,["onClick"]))]),_:1})]),_:1},8,["data","infinite-scroll-disabled"])),[[q,De]])])]),_:1},8,["modelValue","title"])}}},[["__scopeId","data-v-20161f7f"]]),_e={__name:"index",setup(e){const t=r(!1),l=Q(),i=X(),{t:n}=a(),{placement:o}=I(l),u=r(0),{width:x}=M();s(()=>o.value,()=>{u.value++,C()}),N(()=>{l.visible?_():setTimeout(()=>{_()},3e3)}),s(()=>l.visible,()=>{l.visible&&_()});const w=P(null),_=async()=>{const e=await O(()=>import("./XUqtMoOR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60]),import.meta.url);w.value=e.default},k=b(()=>({minWidth:360,minHeight:160,maxWidth:438,initialHeight:l.winHeight-95,centerScrollHeight:l.boundingRect.height-140,otherScrollHeight:l.winHeight-230})),H=b(()=>({center:{className:"top-0 left-0 fixed",initialWidth:l.boundingRect.width,initialHeight:l.boundingRect.height,x:l.boundingRect.x,y:l.boundingRect.y,minWidth:k.value.minWidth,minHeight:k.value.minHeight,parent:!0,handles:["tl","tm","tr","mr","br","bm","bl","ml"],dragHandle:".drag-handle"},left:{className:"[&&]:relative shrink-0 left fixed! top-61px",style:`left:${i.leftWidth.twitter}px`,axis:"x",x:0,minWidth:k.value.minWidth,maxWidth:k.value.maxWidth,initialWidth:l.fixedWidth,initialHeight:k.value.initialHeight,parent:!0,handles:["mr"],dragHandle:".drag-handle"},right:{className:"[&&]:relative shrink-0 right fixed! top-61px left-0",axis:"x",x:i.rightWidth.twitter,y:0,minWidth:k.value.minWidth,maxWidth:k.value.maxWidth,initialWidth:l.fixedWidth,initialHeight:k.value.initialHeight,parent:!0,handles:["ml"],dragHandle:".drag-handle"}}[o.value])),W=P(!0),C=()=>{W.value=!1,q(()=>{W.value=!0})},S=b(()=>{let e={};return e="center"===o.value?{class:"border-1px border-solid border-[--d-1A1A1A-l-F2F2F2] shadow-[0_5px_10px_0_var(--d-FFFFFF14-l-00000014)]",scrollHeight:k.value.centerScrollHeight}:{scrollHeight:k.value.otherScrollHeight},e});function F(e,t){(Math.abs(e)<1||e+l.boundingRect.width>=x.value)&&i.fixedCount>=3?E.warning(n("popTips")):"left"===o.value?l.onLeftDragStop(e,t):"right"===o.value?l.onRightDragStop(e,t):l.onDragStop(e,t)}function R(e,t){"center"===o.value?l.onResizing(e,t):l.onFixedResizing(e)}function V(e){if("center"!==o.value)return null;l.onDrag(e)}return(e,a)=>{const i=G,n=we;return d(),m(g,null,[h(y(i,J({class:{"left-drag":f(l).isLeftFixed,"right-drag":f(l).isRightFixed},shouldRenderChild:f(W)},f(H),{onOnDragStop:F,onOnResizing:R,onOnDrag:V}),{default:p(()=>[(d(),c(B(f(w)),J(f(S),{onSetDrawerVisible:a[0]||(a[0]=e=>t.value=!0)}),null,16))]),_:1},16,["class","shouldRenderChild"]),[[L,f(l).visible]]),v("div",null,[y(n,{visible:f(t),"onUpdate:visible":a[1]||(a[1]=e=>$(t)?t.value=e:null)},null,8,["visible"])])],64)}}},ye=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));export{ae as a,ee as f,Z as g,ye as i,te as u};
